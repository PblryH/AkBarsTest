# Тестовое задание.
1. Разработать приложение для работы с заметками (minSdkVersion = 15). Приложение должно отображать список заметок, добавлять новые заметки, редактировать и удалять старые. Для каждой заметки хранить заголовок, текст и время создания. 
    * В приложении предусмотреть три окна:
        - главное окно со списком заметок (в списке выводить заголовок и время)
        - окно добавления новой заметки
        - окно редактирования (открывается при клике на заметку в главном окне).
    * В качестве хранилища заметок использовать Shared Preferences, sqlite и файл на SD-карте. В приложении предусмотреть возможность переключения “на лету” между этими хранилищами (например, в action bar’е главного окна).
2. В приложении из первого задания предусмотреть возможность перехвата входящих смс и сохранения их в одном из хранилищ (например, в sqlite). При поступлении смс вывести уведомление в status bar’е. Если смс пришло, когда приложение активно, то необходимо сохранить его в текущем хранилище и обновить список заметок на главном экране. 
3. В приложение из первого задания добавить еще одно хранилище – стена vk.com или facebook.com.


## Реализация

Приложени состоит из 2ух основных экранов:
1. Экран списка заметок
2. Экран добавления/редактирования заметки

Экраны реализуют паттерн MVP.
Они умеют сохранять текущее состояние при повороте экрана.
Достигается это благодаря хранению MVP-объектов в retain Fragment.
Внедрение зависимостей MVP осуществляется фреймворком Dagger2.
Компоненты и модули для экрана храняться в пакете dagger для конкретного экрана.
Внедрение зависимостей осуществляется при создании фрагмента в методе Fragment#onCreate.
В этом же методе мы вызываем setRetainInstance(true).
Данный вызов сообщает фрагменту, что он не должен пересоздаваться при пересоздании Activity к которому относится фрагмент.
Этот функционал вынесен в класс BaseRetainFragment


### Экран списка заметок
1. Toolbar. Содержит:
    - Название приложения
    - Информация о текущем хранилище
    - Кнопка выбора хранилище
2. Список заметок текущего хранилища. Имеет функционал:
    - Автообновление при изменении данных в хранилище
    - Обновление с помощью pull-to-refresh
    - Удаление элемента свайпом влево с возможностью отмены в течении 3х секунд
    - Переход на экран редактирования при клике на элемент списка
3. Кнопка добавления новой записи. Она привязана к CoordinatorLayout вместе со списком, что позволяет скрываться кнопке при скроллинге списка вниз.

### Экран добавления/редактирования заметки
1. Toolbar. Содержит:
    - Название экрана
    - Кнопку "назад"
    - Кнопка "удалить"
    - При нажатии на кнопку назад и при условии изменения данных вызывается диалог сохранения заметки
    - При попытке сохранить заметку с пустым заголовком выводится алерт о необходимости ввода заголовка.
2. Поле заголовка
3. Поле текста заметки. Позволяет создавать форматированный текст, но поскольку является сторонним компонентом имеет баги. Прошу не обращать на них внимание.

### Пакеты

1. domain - бизнес логика
2. repository - реализация хранилища
3. sms - работа с смс
4. ui - user interface
    * ui.extras - базовые компоненты ui
        - architecture - базовые классы архитектуры
        - recycler - работа со списком
        - tools - дополнительные инструменты
        - view_holders - базовые вью холдеры
    * ui.screen - реализация экранов

## Технологический стек

### com.android.support
android support library

### com.vk:androidsdk
VK SDK

### jp.wasabeef:richeditor-android
rich text

### com.google.dagger:dagger
DI framework

### com.jakewharton:butterknife
view binding

### io.reactivex:rxjava, io.reactivex:rxandroid
reactive framework

### com.jakewharton.timber:timber
log framework

### com.google.code.gson:gson
json framework


